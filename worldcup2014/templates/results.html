{% extends 'base.html' %}

{% block content %}

<h1>Results</h1>

{% if points %}

	<table id="metric-table" class="table table-striped table-bordered">
	    <tr>
	        <th></th>
	        <th>Striker</th>
	        <th>Winner</th>
	        <th>Score</th>
	        <th>Total</th>
	    </tr>
	    {% for p, v in points.items %}
	    <tr>
	        <td>{{ p }}</td>
	        <td>{{ v.striker }}</td>
	        <td>{{ v.winner }}</td>
	        <td>{{ v.score }}</td>
	        <td>{{ v.total }}</td>
	    </tr>
	    {% endfor %}
	</table>

{% endif %}

{% if match_list %}
	<h3>Matchs</h3>
	
	{% regroup match_list|dictsort:"matchtime" by matchtime|date:"l, d F Y" as matchByDay %}
	{% for matchDay in matchByDay %}
        <legend>{{ matchDay.grouper }}</legend>

		<table id="metric-table" class="table table-striped table-bordered">
        {% for match in matchDay.list %}
        	<tr>
				<td width="20%"><a href="{% url 'match_detail' match.id %}">View</a></td>
				<td width="20%"><img src="/static/img/flags/{{ match.teamA }}.png"> {{ match.teamA | capfirst}} </td>
				<td width="20%" class="toCenter">{{ match.matchtime|date:"H:i" }}</td>
				<td width="20%" class="toRight">{{ match.teamB | capfirst}} <img src="/static/img/flags/{{ match.teamB }}.png"> </td>
			</tr>
        {% endfor %}
		</table>
	{% endfor %}

{% else %}
    <p>No matches are available.</p>
{% endif %}

{% endblock %}